{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 0b1568a1662cead4b2c3","webpack:///external \"vue\"","webpack:///./src/index.js"],"names":["VueVirtualScroll","component","props","height","type","Number","default","onScroll","Function","data","offset","paddingTop","nb","total","viewHeight","scrollHeight","scrollTop","count","initialized","methods","scroll","e","target","Math","floor","$emit","$forceUpdate","_getVNodes","$slots","slice","_getElemInfo","elem","offsetTop","offsetLeft","offsetHeight","offsetWidth","isNaN","offsetParent","top","left","width","init","setData","$el","ceil","round","length","updated","render","createElement","module","exports"],"mappings":"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","file":"index.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"vue\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"vue\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"VueVirtualScroll\"] = factory(require(\"vue\"));\n\telse\n\t\troot[\"VueVirtualScroll\"] = factory(root[\"vue\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_0__) {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 0b1568a1662cead4b2c3","module.exports = __WEBPACK_EXTERNAL_MODULE_0__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"vue\"\n// module id = 0\n// module chunks = 0","import Vue from 'vue'\r\n\r\nconst VueVirtualScroll = Vue.component('vue-virtualscroll', {\r\n\r\n\tprops: {\r\n\t\theight: {\r\n\t\t\ttype: Number,\r\n\t\t\tdefault: 30\r\n\t\t},\r\n\t\tonScroll: Function\r\n\t},\r\n\r\n\tdata(){\r\n\t\treturn {\r\n\t\t\toffset: 0, \r\n\t\t\tpaddingTop: 0,\r\n\t\t\tnb: 0, \r\n\t\t\ttotal: 0, \r\n\t\t\tviewHeight: 0, \r\n\t\t\tscrollHeight: 0,\r\n\t\t\tscrollTop: 0,\r\n\t\t\tcount: 0,\r\n\t\t\tinitialized: false\r\n\t\t}\r\n\t},\r\n\r\n\tmethods: {\r\n\t\tscroll (e) {\r\n\t\t\tthis.scrollTop = e.target.scrollTop\r\n\t\t\tthis.offset = Math.floor(this.scrollTop / this.height)\r\n\t\t\tif(this.offset > this.total - this.count){\r\n\t\t\t\tthis.$emit('reachBottom')\r\n\t\t\t\tthis.offset = this.total - this.count\r\n\t\t\t}\r\n\t\t\tthis.paddingTop = this.offset * this.height\r\n\t\t\tthis.$forceUpdate()\r\n\t\t\tif (this.onScroll) {\r\n\t\t\t\tthis.onScroll(e, this.scrollTop)\r\n\t\t\t}\r\n\t\t\tif(!this.scrollTop) this.$emit('reachTop')\r\n\t\t},\r\n\r\n\t\t_getVNodes () {\r\n\t\t\tif(this.initialized){\r\n\t\t\t\treturn this.$slots.default.slice(this.offset, this.offset + this.count)\r\n\t\t\t}else{\r\n\t\t\t\treturn []\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_getElemInfo(elem) {\r\n\t\t\tlet offsetTop = 0;\r\n\t\t\tlet offsetLeft = 0;\r\n\t\t\tlet offsetHeight = elem.offsetHeight\r\n\t\t\tlet offsetWidth = elem.offsetWidth\r\n\r\n\t\t\tdo {\r\n\t\t\t\tif (!isNaN(elem.offsetTop))\r\n\t\t\t\t\toffsetTop += elem.offsetTop\r\n\t\t\t\tif (!isNaN(elem.offsetLeft))\r\n\t\t\t\t\toffsetLeft += elem.offsetLeft\r\n\t\t\t} while ((elem = elem.offsetParent) !== null)\r\n\r\n\t\t\treturn {\r\n\t\t\t\t\ttop: offsetTop,\r\n\t\t\t\t\tleft: offsetLeft,\r\n\t\t\t\t\theight: offsetHeight,\r\n\t\t\t\t\twidth: offsetWidth\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tinit(){\r\n\t\t\tthis.initialized = true\r\n\t\t\tthis.setData()\r\n\t\t\tthis.$forceUpdate()\r\n\t\t},\r\n\r\n\t\tsetData(){\r\n\t\t\tthis.viewHeight = this._getElemInfo(this.$el).height\r\n\t\t\tthis.nb = Math.ceil(this.viewHeight / this.height)\r\n\t\t\tthis.count = this.nb + Math.round(this.nb / 2)\r\n\t\t\tthis.total = this.$slots.default ? this.$slots.default.length : 0\r\n\t\t\tif(this.total < this.count) this.count = this.total\r\n\t\t\tthis.scrollHeight = this.height * (this.total - this.count)\r\n\t\t\tthis.$el.scrollTop = 0\r\n\t\t}\r\n\t},\r\n\r\n\tupdated () {\r\n\t\tif(!this.initialized) this.init()\r\n\t},\r\n\r\n\trender (createElement) {\r\n\t\tif(!this.initialized || !this.height) return createElement('div', {})\r\n\t\tif(this.initialized && this.total != this.$slots.default.length) this.setData()\r\n\t\treturn createElement('div', \r\n\t\t\t{\r\n\t\t\t\t'on': {\r\n\t\t\t\t\t'scroll': this.scroll\r\n\t\t\t\t},\r\n\t\t\t\t'style': {\r\n\t\t\t\t\t'overflow-y': 'auto',\r\n\t\t\t\t\t'height': this.viewHeight + 'px',\r\n\t\t\t\t\t'scrollTop': 0\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t[\r\n\t\t\t\tcreateElement('div', \r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t'style': {\r\n\t\t\t\t\t\t\t'padding-top': this.paddingTop + 'px',\r\n\t\t\t\t\t\t\t'padding-bottom': this.scrollHeight - this.paddingTop + 'px'\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}, this._getVNodes())\r\n\t\t\t]\r\n\t\t)\r\n\t}\r\n})\r\n\r\nmodule.exports = VueVirtualScroll\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js"],"sourceRoot":""}